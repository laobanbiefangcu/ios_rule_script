#!name=Blued去广告
#!desc=仅含 Blued（social.blued.cn）去广告；严格使用 Surge 支持的动作（reject / Map Local），不含 reject-dict。
#!author=ChatGPT
#!category=BetaModule
#!tag=去广告, Blued
#!date=2025-10-23 08:12:49

# ================== 使用说明 ==================
# 本模块完全遵循 Surge 原生语法：
# 1) URL Rewrite 采用 “- reject” 硬拦（不返回内容）。
# 2) 若 App 需要返回结构，请改用下方 Map Local（返回空 JSON "{}", 200）。
# 3) 脚本用于在正常数据中“剔除广告字段”，需要开启 MITM。
# ==============================================

[URL Rewrite]
# —— 方案A：删请求（Surge 原生动作） ——
# 来源：Loon 合集中的 Blued 广告接口（原写法为 reject-dict，这里改为 - reject 以符合 Surge 语法）。
^https?:\/\/social\.blued\.cn\/users\/recommend - reject
^https?:\/\/social\.blued\.cn\/users\/no_auth\/benefit - reject

[Map Local]
# —— 方案B：假返回（如需，请注释掉上面的相同行，再取消以下注释启用） ——
# 如果 - reject 导致界面空白/报错，可启用空 JSON 回填：
# ^https?:\/\/social\.blued\.cn\/users\/recommend data-type=text data="{{}}" status-code=200
# ^https?:\/\/social\.blued\.cn\/users\/no_auth\/benefit data-type=text data="{{}}" status-code=200

[Script]
# —— 方案C：精细净化（需 MITM 打开 social.blued.cn） ——
# 功能：当接口返回“正常数据 + 广告”混在一起时，只剔除广告字段。
移除 Blued 广告 = type=http-response, pattern=^https?:\/\/social\.blued\.cn\/users\/.+\/more\/ios\?v=2, script-path=https://raw.githubusercontent.com/fmz200/wool_scripts/main/Scripts/blued.js, requires-body=true, timeout=10

[MITM]
hostname = %APPEND% social.blued.cn
